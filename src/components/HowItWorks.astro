---
import { waLink } from '../config/site';

const steps = [
  {
    n: '01',
    title: 'Compra tu plan',
    desc: 'Elige 1, 3, 6 o 12 meses. Te ayudamos a elegir según tu uso.'
  },
  {
    n: '02',
    title: 'Recibe tus accesos',
    desc: 'Enviamos tus credenciales por correo o WhatsApp para que empieces rápido.'
  },
  {
    n: '03',
    title: 'Instala en tu dispositivo',
    desc: 'Android, TV Box, Fire Stick, Google TV, Xiaomi Stick o Smart TV con Android.'
  },
  {
    n: '04',
    title: 'Disfruta en HD/4K',
    desc: 'Con internet estable, obtienes una experiencia clara y fluida.'
  }
];

const helpHref = waLink('Hola, necesito ayuda para empezar con Flujo TV Chile.');
---

<section id="como-funciona" class="mx-auto max-w-6xl px-4 py-12 md:py-14">
  <div class="grid gap-8 md:gap-10 md:grid-cols-[1.15fr_0.85fr] items-start">
    <div>
      <h2 class="font-display text-3xl md:text-4xl font-extrabold">Empieza en minutos</h2>
      <p class="mt-2 text-white/70 max-w-xl">
        Sin pasos confusos. Compras, recibes accesos y te acompañamos con la instalación.
      </p>

      <div class="mt-7 grid gap-4">
        {steps.map((s) => (
          <div class="glass rounded-2xl p-5 md:p-6">
            <div class="grid grid-cols-[44px_1fr] gap-4 items-start">
              <div class="font-display text-sm font-extrabold text-white/70 pt-0.5">{s.n}</div>
              <div>
                <div class="font-semibold">{s.title}</div>
                <div class="text-sm md:text-base text-white/70">{s.desc}</div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>

    <div class="glass rounded-[28px] p-6 md:p-8 md:sticky md:top-24">
      <h3 class="font-display text-2xl font-extrabold">¿Quieres que te guiemos?</h3>
      <p class="mt-2 text-white/70">
        Escríbenos y te respondemos por WhatsApp con una guía clara según tu dispositivo.
      </p>
      <a
        href={helpHref}
        target="_blank"
        rel="noopener noreferrer"
        class="mt-6 inline-flex w-full items-center justify-center gap-3 rounded-2xl px-6 py-4 font-semibold bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 transition"
      >
        <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
        Hablar con soporte
      </a>
      <div class="mt-4 text-xs text-white/55">
        Recomendación: para HD/4K, usa Wi‑Fi estable o cable en tu TV Box.
      </div>
    </div>
  </div>
</section>
